// SPDX-License-Identifier: MIT
pragma solidity ^0.6.12;
import "@openzeppelin/contracts-ethereum-package/contracts/math/SafeMath.sol";

contract InterestCalculator {
    using SafeMath for uint;
    uint private constant MAX_DAYS = 365;

    function _initCumulativeInterestForDays() internal pure returns(uint[366] memory) {
        uint[366] memory cumulativeInterestForDays = [
        uint(0), 1, 2, 3, 4, 6, 8, 11, 14, 17, 21, 25, 30, 35, 40, 46, 52, 58, 65, 72,
        80, 88, 96, 105, 114, 124, 134, 144, 155, 166, 178, 190, 202, 215, 228, 242, 256, 271, 286, 301,
        317, 333, 350, 367, 385, 403, 421, 440, 459, 479, 499, 520, 541, 563, 585, 607, 630, 653, 677, 701,
        726, 751, 777, 803, 830, 857, 884, 912, 940, 969, 998, 1028, 1058, 1089, 1120, 1152, 1184, 1217, 1250, 1284,
        1318, 1353, 1388, 1424, 1460, 1497, 1534, 1572, 1610, 1649, 1688, 1728, 1768, 1809, 1850, 1892, 1934, 1977, 2020, 2064,
        2108, 2153, 2199, 2245, 2292, 2339, 2387, 2435, 2484, 2533, 2583, 2633, 2684, 2736, 2788, 2841, 2894, 2948, 3002, 3057,
        3113, 3169, 3226, 3283, 3341, 3399, 3458, 3518, 3578, 3639, 3700, 3762, 3825, 3888, 3952, 4016, 4081, 4147, 4213, 4280,
        4347, 4415, 4484, 4553, 4623, 4694, 4765, 4837, 4909, 4982, 5056, 5130, 5205, 5281, 5357, 5434, 5512, 5590, 5669, 5749,
        5829, 5910, 5992, 6074, 6157, 6241, 6325, 6410, 6496, 6582, 6669, 6757, 6845, 6934, 7024, 7114, 7205, 7297, 7390, 7483,
        7577, 7672, 7767, 7863, 7960, 8058, 8156, 8255, 8355, 8455, 8556, 8658, 8761, 8864, 8968, 9073, 9179, 9285, 9392, 9500,
        9609, 9719, 9829, 9940, 10052, 10165, 10278, 10392, 10507, 10623, 10740, 10857, 10975, 11094, 11214, 11335, 11456, 11578, 11701, 11825,
        11950, 12076, 12202, 12329, 12457, 12586, 12716, 12847, 12978, 13110, 13243, 13377, 13512, 13648, 13785, 13922, 14060, 14199, 14339, 14480,
        14622, 14765, 14909, 15054, 15199, 15345, 15492, 15640, 15789, 15939, 16090, 16242, 16395, 16549, 16704, 16860, 17017, 17174, 17332, 17491,
        17651, 17812, 17974, 18137, 18301, 18466, 18632, 18799, 18967, 19136, 19306, 19477, 19649, 19822, 19996, 20171, 20347, 20524, 20702, 20881,
        21061, 21242, 21424, 21607, 21791, 21976, 22162, 22350, 22539, 22729, 22920, 23112, 23305, 23499, 23694, 23890, 24087, 24285, 24484, 24685,
        24887, 25090, 25294, 25499, 25705, 25912, 26120, 26330, 26541, 26753, 26966, 27180, 27395, 27611, 27829, 28048, 28268, 28489, 28711, 28934,
        29159, 29385, 29612, 29840, 30069, 30300, 30532, 30765, 30999, 31235, 31472, 31710, 31949, 32190, 32432, 32675, 32919, 33165, 33412, 33660,
        33909, 34160, 34412, 34665, 34920, 35176, 35433, 35692, 35952, 36213, 36476, 36740, 37005, 37272, 37540, 37809, 38080, 38352, 38625, 38900,
        39176, 39454, 39733, 40013, 40295, 40578
        ];


        return cumulativeInterestForDays;
    }

    function _getInterestTillDays(uint _day) internal pure returns(uint) {
        require(_day <= MAX_DAYS);

        return _initCumulativeInterestForDays()[_day];
    }
}
